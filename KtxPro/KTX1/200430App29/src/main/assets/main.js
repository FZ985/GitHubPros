!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){var r=function(t){var e,r,a=n(6),o=n(1).Task,u=n(1).taskManager,c=JsInterface,h=!0,g={},d={},l=0;function f(t,e,n,r){return n=n||null,(r=r||1)&&(r=1),c.exec(t,e,n,r)}var v=function(t){h&&console.log(t)};var p={innerCreateJArg:function(t,e){var n={};return n[t]=e,n},createJArg:function(t,e){return this.innerCreateJArg(t,e)},createJArgsJson:function(){var t=function(t){try{return Array.prototype.slice.call(t)}catch(i){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=s[n];return e}}(arguments);return this.innerCreateJArgsJson(t)},createJintArgsJson:function(t){return this.innerCreateJintArgsJson(t)},createJbooleanArgsJson:function(t){return this.innerCreateJbooleanArgsJson(t)},createJCharSequenceArgsJson:function(t){return this.innerCreateJCharSequenceArgsJson(t)},createJStringArgsJson:function(t){return this.innerCreateJStringArgsJson(t)},createJfloatArgsJson:function(t){return this.innerCreateJfloatArgsJson(t)},createJObjectArgsJson:function(t){return this.innerCreateJObjectArgsJson(t)},CharSequenceClassId:"Ljava/lang/CharSequence",StringClassId:"Ljava/lang/String",ArrayListClassId:"Ljava/util/ArrayList",ListClassId:"Ljava/util/List",ObjectClassId:"Ljava/lang/Object",innerCreateJintArgsJson:function(t){return this.innerCreateJArgsJson(this.innerCreateJArg("I",t))},innerCreateJbooleanArgsJson:function(t){return this.innerCreateJArgsJson(this.innerCreateJArg("Z",t))},innerCreateJCharSequenceArgsJson:function(t){return this.innerCreateJArgsJson(this.innerCreateJArg(this.CharSequenceClassId,t))},innerCreateJStringArgsJson:function(t){return this.innerCreateJArgsJson(this.innerCreateJArg(this.StringClassId,t))},innerCreateJfloatArgsJson:function(t){return this.innerCreateJArgsJson(this.innerCreateJArg("F",t))},innerCreateJObjectArgsJson:function(t){return this.innerCreateJArgsJson(this.innerCreateJArg(this.ObjectClassId,t))},innerCreateJArgsJson:function(t){var e=[],n=0;if(Array.isArray(t)){n=t.length;for(var r=0;r<n;r++)e.push(t[r])}else{n=arguments.length;for(var s=0;s<n;s++)e.push(arguments[s])}return JSON.stringify(e,function(t,e){return"function"==typeof e?e+"":e})}},J={sendTasks:function(t,e){t.length>=1&&(v("send To Android mainThread "+e+" : "+JSON.stringify(t)),e?c.execMainMethods(JSON.stringify(t)):c.execMethods(JSON.stringify(t)))},exec:function(t,e,n,r){return f(t,e,n,r)},asyncExec:function(t,e,n,r,s){return function(t,e,n,r,s){var i=l++;return g[i]=r,d[i]=s,c.asyncExec(t,e,n,i)}(t,e,n,r,s)},getField:function(t,e,n,r){return this.innerGetField(t,e,n,r)},getJsInterface:function(){return c.getObjId("this")},newJobj:function(t,e){return function(t,e){return e=e||null,c.newJobj(t,e)}(t,e)},invokeCallback:function(t,e,n){return function(t,e,n){var r=(e?g:d)[t];n&&n instanceof String&&(n=JSON.parse(n)),r?(r(n),d[t]=void 0,g[t]=void 0):this.innerLog("callback is "+r)}(t,e,n)}},C={createMappedJsObj:function(t,e){if(t){var n=[],r=t;for(var s in"string"==typeof t&&(r=JSON.parse(t)),r)n.push(new e(r[s]));return n}}},b={moduleMaps:{},requireModule:function(t,e){e||(e=a);this.moduleMaps;return this.moduleMaps[t]||(this.moduleMaps[t]=this.createModule(t,e)),this.moduleMaps[t]},createModule:function(e,n){n||(n=a);var r=f("Lorg/qiyi/basecard/v4/context/module/ModuleRegistry","getModule",p.innerCreateJArgsJson(p.innerCreateJArg(p.StringClassId,e)));return r&&-1!=r?new n(t,r):null}};u={tasks:[],mainThreadTasks:[],push:function(t,e,n,r){this.pushTask(new o(t,e,n,r))},pushTask:function(t){t.mainThread?this.mainThreadTasks.push(t):this.tasks.push(t)},flush:function(){this.sendTasks(this.mainThreadTasks,!0),this.mainThreadTasks=[],this.sendTasks(this.tasks,!1),this.tasks=[]},sendTasks:function(e,n){var r=[];for(i in e){var s=e[i];s.isValidate()&&r.push(s)}return t.java.sendTasks(r,n),r},toJson:function(){return JSON.stringify(this)}};return t.init=function(t){h=t.debug,r=t.screenWidth,e=t.screenHeight,t.scale},t.js=C,t.java=J,t.log=function(t){return v(t)},t.screenHeight=e,t.screenWidth=r,t.modules=b,t.JsModule=a,t.Task=o,t.taskManager=u,t.args=p,t.debug=h,t}(r||{});t.exports=r},function(t,e){var n=function(){var t=0;return function(e,n,r,s){this.id=t++,this.objectId=e,this.method=n||"UnKnown",this.args=r||{},this.mainThread=s||!1,this.isValidate=function(){return void 0!=this.objectId&&void 0!=this.method}}}(),r={tasks:[],mainThreadTasks:[],push:function(t,e,r,s){this.pushTask(new n(t,e,r,s))},pushTask:function(t){t.mainThread?this.mainThreadTasks.push(t):this.tasks.push(t)},flush:function(){this.sendTasks(this.mainThreadTasks,!0),this.mainThreadTasks=[],this.sendTasks(this.tasks,!1),this.tasks=[]},sendTasks:function(t,e){var n=[];for(i in t){var r=t[i];r.isValidate()&&n.push(r)}return $.java.sendTasks(n,e),n},toJson:function(){return JSON.stringify(this)}};t.exports.Task=n,t.exports.taskManager=r},function(t,e,n){"use strict";var r=function(){};r.extend=function(t,e){var n=r.prototype.extend;r._prototyping=!0;var s=new this;n.call(s,t),s.base=function(){},delete r._prototyping;var i=s.constructor,a=s.constructor=function(){if(!r._prototyping)if(this._constructing||this.constructor==a)this._constructing=!0,i.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],s)};return a.ancestor=this,a.extend=this.extend,a.forEach=this.forEach,a.implement=this.implement,a.prototype=s,a.toString=this.toString,a.valueOf=function(t){return"object"==t?a:i.valueOf()},n.call(a,e),"function"==typeof a.init&&a.init(),a},r.prototype={extend:function(t,e){if(arguments.length>1){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var s=e.valueOf();(e=function(){var t=this.base||r.prototype.base;this.base=n;var e=s.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:s},e.toString=r.toString}this[t]=e}else if(t){var i=r.prototype.extend;r._prototyping||"function"==typeof this||(i=this.extend||i);for(var a={toSource:null},o=["constructor","toString","valueOf"],u=r._prototyping?0:1;c=o[u++];)t[c]!=a[c]&&i.call(this,c,t[c]);for(var c in t)a[c]||i.call(this,c,t[c])}return this}},r=r.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var r in t)void 0===this.prototype[r]&&e.call(n,t[r],r,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),t.exports=r},function(t,e,n){pageManager=n(4),bridge=n(0),Base=n(2)},function(t,e,n){var r=n(5),s=n(0),i={pages:{},obtainPage:function(t){return t?this.pages[t]:null},destoryPage:function(t){var e=delete this.pages[t];console.log("delete result: "+e+" page: "+this.pages[t])},registerPage:function(t,e){var n=new r(e);return this.pages[t]=n,n},onResume:function(t){s.log(t),this.obtainPage(t).onResume()},onKeyDown:function(t,e,n){s.log(e+" : "+n),this.obtainPage(t).onKeyDown(e,n)},onPause:function(t){s.log(t),this.obtainPage(t).onPause()},onStop:function(t){this.obtainPage(t).onStop()},onDestroy:function(t){this.obtainPage(t).onDestroy(),this.destoryPage(t)},onCreate:function(t){this.obtainPage(t).onCreate()},setUserVisibleHint:function(t,e){this.obtainPage(t).setUserVisibleHint(e)},onConfigurationChanged:function(t,e){this.obtainPage(t).onConfigurationChanged(e)},onMultiWindowModeChanged:function(t,e){this.obtainPage(t).onMultiWindowModeChanged(e)}};"undefined"!=typeof window&&(window.pageManager=i),t.exports=i},function(t,e,n){var r=n(0),s=n(2),i=n(7),a=i.RowData,o=(i.BlockData,i.PageData,i.CardData,s.extend({handlerId:0,data:void 0,rows:void 0,constructor:function(t){this.handlerId=t.handlerId,this.data=t},getRows:function(){var t=r.java.exec(this.handlerId,"getRows","",!1);return this.rows=this.createMappedJsRowObj(t),this.rows},createMappedJsRowObj:function(t){return r.js.createMappedJsObj(t,a)},onResume:function(){r.log("onResume")},onPause:function(){r.log("onPause")},onStop:function(){r.log("onStop()")},onDestroy:function(){r.log("onDestroy()")},onCreate:function(){r.log("onCreate()")},onKeyDown:function(t,e){r.log(t+":"+e)},setUserVisibleHint:function(t){r.log("setUserVisibleHint()"+t)},onConfigurationChanged:function(t){r.log("onConfigurationChanged()"+t)},onMultiWindowModeChanged:function(t){r.log("onMultiWindowModeChanged()"+t)}}));t.exports=o},function(t,e,n){var r=n(0);console.log(r);t.exports=function(t,e){this.handlerId=e,this.invoke=function(e,n){var r="";n&&(r=t.args.innerCreateJStringArgsJson(n)),t.java.exec(this.handlerId,e,r)},this.invokeModule=function(e,n){t.java.exec(this.handlerId,e,n)},this.invokeAsync=function(e,n,r,s){var i="";n&&(i=t.args.innerCreateJStringArgsJson(n)),t.java.asyncExec(e,i,r,s)},this.invokeModuleAsync=function(e,n,r,s){t.java.asyncExec(e,n,r,s)}}},function(t,e,n){"use stick";var r=n(0),s=function(t){"string"==typeof t&&(t=JSON.parse(t)),this.handlerId=t.handlerId,this.data=t.data,this.cards=void 0,this.rows=void 0,this.getCard=function(t){return this.getCards()[t]},this.getCards=function(){var t=r.java.exec(this.handlerId,"getCards","",!1);return this.cards=function(t){return u(t,i)}(t),this.cards},this.getRows=function(){var t=r.java.exec(this.handlerId,"getRows","",!1);if(this.rows=u(t,Row),this.rows)for(row in this.rows)row.page=this;return this.rows}},i=function(t){"string"==typeof t&&(t=JSON.parse(t)),this.handlerId=parseInt(t.handlerId),this.data=t.data,this.page=void 0,this.showBlocks=void 0,this.getPage=function(){return this.page||(this.page=g(this.handlerId,"getPage",function(t){return new s(t)})),this.page},this.getShowBlocks=function(){if(this.showBlocks)return this.showBlocks;var t=r.java.exec(this.handlerId,"getShowBlocks");return this.showBlocks=c(t),this.showBlocks},this.getAttr=function(t){return h(this.data,this.handlerId,t)}},a=function(t){"string"==typeof t&&(t=JSON.parse(t)),this.handlerId=parseInt(t.handlerId),this.data=t.data,this.blockCount=void 0,this.blocks={},this.getBlock=function(t){var e=this.blocks;if(e[t])return e[t];var n=r.args.createJArgsJson(r.args.createJArg("I",t)),s=r.java.exec(this.handlerId,"getBlock",n,!1),i=new o(s);return i.card=this,e[t]=i,i},this.refreshBlocks=function(){var t=r.java.exec(this.handlerId,"getBlocks","",!1);return this.blocks=c(t),this.blockCount=this.blocks.length,this.blocks},this.getBlockCount=function(){return this.blockCount||(this.blockCount=r.java.exec(this.handlerId,"getBlockCount"),this.blockCount<=0&&(this.blockCount=void 0)),this.blockCount},this.getAttr=function(t){return h(this.data,this.handlerId,t)}},o=function(t){"string"==typeof t&&(t=JSON.parse(t)),this.handlerId=parseInt(t.handlerId),this.data=t.data,this.row=void 0,this.card=void 0,this.imageModels={},this.metaModels={},this.btnModels={},this.views={},this.getImageModel=function(t){var e=parseInt(this.handlerId);return d(this.imageModels,t,function(){var n=r.args.createJArgsJson(r.args.createJArg("I",t)),s=r.java.exec(e,"getImageModel",n,!1);return-1==s?null:new ImageViewModel(s)})},this.getMetaModel=function(t){var e=parseInt(this.handlerId);return d(this.metaModels,t,function(){var n=r.args.createJArgsJson(r.args.createJArg("I",t)),s=r.java.exec(e,"getMetaModel",n,!1);return-1==s?null:new MetaViewModel(s)})},this.getBtnModel=function(t){var e=parseInt(this.handlerId);return d(this.btnModels,t,function(){var n=r.args.createJArgsJson(r.args.createJArg("I",t)),s=r.java.exec(e,"getBtnModel",n,!1);return-1==s?null:new ButtonViewModel(s)})},this.getRow=function(){return this.row||(this.row=g(this.handlerId,"getRow",function(t){return new a(t)})),this.row},this.getCard=function(){return this.card||(this.card=g(this.handlerId,"getCard",function(t){return new i(t)})),this.card},this.getBlockWidth=function(){return r.java.exec(this.handlerId,"getBlockWidth","",!1)},this.getBlockHeight=function(){return r.java.exec(this.handlerId,"getBlockHeight","",!1)},this.rebindButton=function(t,e,n){var s=r.args.createJArgsJson(r.args.createJArg("I",t),r.args.createJArg("I",e),r.args.createJArg("I",n));r.java.exec(this.handlerId,"rebindButton",s,!0)},this.getButtonRef=function(t,e){return r.java.exec(this.handlerId,"getButtonRef",r.args.createJArgsJson(r.args.createJArg("I",t),r.args.createJArg("I",e)),!1)},this.getImageRef=function(t){return r.java.exec(this.handlerId,"getImageRef",r.args.createJArgsJson(r.args.createJArg("I",t)),!1)},this.getMetaRef=function(t){return r.java.exec(this.handlerId,"getMetaRef",r.args.createJArgsJson(r.args.createJArg("I",t)),!1)},this.findViewByKey=function(t,e){var n=this.views;if(void 0!=n[t]&&null!=n[t])return n[t];var s=r.args.createJArgsJson(r.args.createJArg(StringClassId,t)),i=r.java.exec(this.handlerId,"findViewByKey",s,0);return 0!=i?(n[t]=new e(void 0,i),n[t]):void 0},this.getAttr=function(t){return h(this.data,this.handlerId,t)}};function u(t,e){return r.js.createMappedJsObj(t,e)}function c(t){return u(t,o)}function h(t,e,n){if(t[n])return t[n];var s=r.args.createJArgsJson(r.args.createJArg(StringClassId,n));return t[n]=r.java.exec(e,"getAttr",s,!1),t[n]&&(t[n]=JSON.parse(t[n])),t[n]}function g(t,e,n){var s=r.java.exec(t,e,"",!1);return r.log("getHandler : "+s),s?n(s):null}function d(t,e,n){return t[e]?t[e]:(t[e]=n(),t[e])}t.exports.PageData=s,t.exports.CardData=i,t.exports.RowData=a,t.exports.BlockData=o}]);